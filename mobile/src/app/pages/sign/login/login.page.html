<ion-content>
  <div class="flex-center">
    <ion-card class="login-card">
      <ion-card-header>
        <ion-card-title mode="ios" class="ion-text-center" color="primary"
          >ðŸ‘‹Welcome Back</ion-card-title
        >
      </ion-card-header>
      <ion-card-content>
        <form (ngSubmit)="login()" [formGroup]="loginForm">
          <ion-item [class.invalid]="formSubmitted && email.invalid">
            <ion-label position="floating">
              <ion-icon name="mail-outline" slot="start"></ion-icon>
              E-mail
            </ion-label>
            <ion-input
              type="email"
              formControlName="email"
              required
            ></ion-input>
          </ion-item>
          <div *ngIf="formSubmitted && email.invalid" class="error-message">
            <ion-text color="danger"
              >Please enter a valid email address.</ion-text
            >
          </div>

          <ion-item [class.invalid]="formSubmitted && password.invalid">
            <ion-label position="floating">
              <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
              Password
            </ion-label>
            <ion-input
              type="password"
              formControlName="password"
              required
            ></ion-input>
          </ion-item>
          <div *ngIf="formSubmitted && password.invalid" class="error-message">
            <ion-text color="danger">
              Password is required and must be at least 6 characters long.
            </ion-text>
          </div>

          <ion-button
            [disabled]="loginForm.invalid"
            type="submit"
            expand="block"
          >
            Submit
          </ion-button>
        </form>
        <div *ngIf="error" class="error-message">
          <ion-text color="danger">{{ error }}</ion-text>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
